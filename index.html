<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Mark System</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      padding: 20px;
    }
    h2 {
      color: blue;
      text-align: center;
      margin-bottom: 20px;
    }

    /* Layout for 2 boxes side by side */
    .main-container {
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .left-box, .right-box {
      border: 2px solid blue;
      border-radius: 8px;
      background: white;
      padding: 20px;
      min-height: 400px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .left-box {
      flex: 2;
    }
    .right-box {
      flex: 1;
      text-align: center;
    }

    /* Table styling */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 2px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    th {
      background: blue;
      color: white;
    }
    tr:nth-child(even) {
      background: #f2f2f2;
    }
    tr.highlight {
      background: #ffe6e6;
      font-weight: bold;
      border: 2px solid red;
    }

    /* Buttons */
    .right-box button {
      margin: 8px 0;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 15px;
      width: 80%;
      background: #ccc; /* default unhighlighted */
      color: black;
    }
    /* Highlighted buttons */
    .highlight-button {
      background: blue;
      color: white;
    }
    button:hover {
      opacity: 0.8;
    }

    /* Inputs */
    .input-group {
      margin: 8px 0;
      text-align: left;
    }
    .input-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: blue;
    }
    .input-group input {
      width: 90%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    /* Result */
    .result {
      margin-top: 20px;
      font-weight: bold;
      color: blue;
    }
  </style>
</head>
<body>

  <h2>Student Mark System</h2>

  <div class="main-container">
    <!-- Left Box (Student Table) -->
    <div class="left-box">
      <h3 style="color:blue; text-align:center;">Student Records</h3>
      <table id="marksTable">
        <tr>
          <th>Student Name</th>
          <th>Subject</th>
          <th>Marks</th>
        </tr>
      </table>
    </div>

    <!-- Right Box (Controls + Results) -->
    <div class="right-box">
      <h3 style="color:blue;">Controls</h3>
      <button class="highlight-button" onclick="showHighest()"> Show Highest Marks</button>
      <button onclick="showAverage()"> Show Average</button>
      <button onclick="sortByMarks()"> Sort by Marks</button>
      <button onclick="resetTable()"> Reset Sample</button>
      <button onclick="removeAll()"> Remove All</button>

      <h3 style="color:blue; margin-top:20px;">➕ Add Student</h3>
      <div class="input-group">
        <label>Student Name:</label>
        <input type="text" id="studentName">
      </div>
      <div class="input-group">
        <label>Subject:</label>
        <input type="text" id="studentSubject">
      </div>
      <div class="input-group">
        <label>Marks:</label>
        <input type="number" id="studentMarks">
      </div>
      <button class="highlight-button" onclick="addStudent()">➕ Add Student</button>

      <div class="result" id="result"></div>
    </div>
  </div>

  <script>
    const sampleData = [
      { name: "Rahul", subject: "Math", marks: 85 },
      { name: "Rahul", subject: "Science", marks: 90 },
      { name: "Priya", subject: "Math", marks: 78 },
      { name: "Priya", subject: "English", marks: 88 },
      { name: "Aman", subject: "Science", marks: 92 }
    ];
    let currentData = [...sampleData];

    // Render table rows
    function renderTable(data, highlightMark = null) {
      const table = document.getElementById("marksTable");
      table.innerHTML = `
        <tr>
          <th>Student Name</th>
          <th>Subject</th>
          <th>Marks</th>
        </tr>`;
      data.forEach(item => {
        const row = document.createElement("tr");
        if (highlightMark !== null && item.marks === highlightMark) {
          row.classList.add("highlight");
        }
        row.innerHTML = `
          <td>${item.name}</td>
          <td>${item.subject}</td>
          <td>${item.marks}</td>
        `;
        table.appendChild(row);
      });
    }

    // Show highest marks
    function showHighest() {
      if (currentData.length === 0) return;
      const highest = Math.max(...currentData.map(s => s.marks));
      document.getElementById("result").innerHTML = ` Highest Marks: ${highest}`;
      renderTable(currentData, highest);
    }

    // Show average
    function showAverage() {
      if (currentData.length === 0) return;
      const avg = (currentData.reduce((sum, s) => sum + s.marks, 0) / currentData.length).toFixed(2);
      document.getElementById("result").innerHTML = ` Average Marks: ${avg}`;
      renderTable(currentData);
    }

    // Sort by marks (descending)
    function sortByMarks() {
      currentData.sort((a, b) => b.marks - a.marks);
      renderTable(currentData);
      document.getElementById("result").innerHTML = " Sorted by Marks (High → Low)";
    }

    // Reset sample data
    function resetTable() {
      currentData = [...sampleData];
      renderTable(currentData);
      document.getElementById("result").innerHTML = " Reset to Sample Data";
    }

    // Remove all rows
    function removeAll() {
      currentData = [];
      renderTable(currentData);
      document.getElementById("result").innerHTML = " All Records Removed";
    }

    // Add student row from inputs
    function addStudent() {
      const name = document.getElementById("studentName").value.trim();
      const subject = document.getElementById("studentSubject").value.trim();
      const marks = parseInt(document.getElementById("studentMarks").value);

      if (name && subject && !isNaN(marks)) {
        currentData.push({ name, subject, marks });
        renderTable(currentData);
        document.getElementById("result").innerHTML = `➕ Added: ${name} (${subject} - ${marks})`;

        // Clear inputs
        document.getElementById("studentName").value = "";
        document.getElementById("studentSubject").value = "";
        document.getElementById("studentMarks").value = "";
      } else {
        alert("Please enter valid details for Student, Subject, and Marks.");
      }
    }

    // Initial render
    renderTable(currentData);
  </script>

</body>
</html>
